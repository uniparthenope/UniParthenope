<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Test</title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
          integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
          crossorigin="" />

    <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
            integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
            crossorigin=""></script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet-src.js"></script>
    <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>

    <style>
        #mapid {
            height: 480px;
        }
    </style>
</head>
<body>

<div id="mapid"></div>

<script src="./lib/es6-promise.min.js"></script>
<script src="./lib/nativescript-webview-interface.js"></script>
<script src="./index.js"></script>

<!--
<script>
    var oWebViewInterface1 = window.nsWebViewInterface;
    var DynaMarker;

    var mymap = L.map('mapid').setView([40.8553396,14.2830908], 12);
    var sedeIcon = L.icon({
        iconUrl: 'sede.png',
        iconSize:     [45, 45], // size of the icon
    });
    var fermataIcon = L.icon({
        iconUrl: 'fermata.png',
        iconSize:     [30, 30], // size of the icon
    });

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: ''
    }).addTo(mymap);

/**SEDI UNIVERSITARIE */

    //Centro Direzionale
    L.marker([40.856831, 14.284553], {icon: sedeIcon}).addTo(mymap)
        .bindPopup('<strong>Sede Centro Direzionale</strong><br><i>Centro Direzionale, Isola C4</i><br>Dipartimento di Ingegneria<br>Dipartimento di Scienze e Tecnologie');
    //Via Acton
    L.marker([40.837372, 14.253502],{icon: sedeIcon}).addTo(mymap)
        .bindPopup('<strong>Sede Centrale</strong><br><i>Via Amm. Acton, 38</i><br>La sede principale dell\'Università degli Studi di Napoli "Parthenope" è collocata in Napoli alla Via Ammiraglio Ferdinando Acton n. 38 e consiste in un nucleo storico, la c.d. "Palazzina Spagnola", risalente al XVI secolo ed in un fabbricato più moderno realizzato alla fine degli anni \'60.');
    //Via Parisi
    L.marker([40.832308, 14.245027], {icon: sedeIcon}).addTo(mymap)
        .bindPopup('<strong>Sede Palazzo Pacanowski</strong><br><i>Via Generale Parisi n. 13</i><br>Dipartimento di Giurisprudenza<br>Dipartimento di Studi Aziendali ed Economici<br>Dipartimento di Studi Aziendali e Quantitativi<br>Dipartimento di Economici e Giuridici');
    //Via Medina
    L.marker([40.840447, 14.251863],{icon: sedeIcon}).addTo(mymap)
        .bindPopup('<strong>Sede Via Medina</strong><br><i>Via Medina</i><br>Dipartimento di Scienze Motorie e del Benessere');
    //Villa Doria
    L.marker([40.823872, 14.216225], {icon: sedeIcon}).addTo(mymap)
        .bindPopup('<strong>Villa Doria D\'Angri</strong><br><i>Via Francesco Petrarca</i><br>Apple iOS Foundation<br>Museo Navale');

/** CENTRO DIREZIONALE to VIA ACTON e VIA MEDINA*/

    //Fermate
    L.marker([40.838780, 14.251921], {icon: fermataIcon}).addTo(mymap)
        .bindPopup('<strong>N8<br><i>Ghilsedi</i></strong><br>Orario ...');
    L.marker([40.849001, 14.283039],{icon: fermataIcon}).addTo(mymap)
        .bindPopup('<strong>N8<br><i>Medina Municipio</i></strong><br>Orario ...');
    L.marker([40.8553396, 14.2830908], {icon: fermataIcon}).addTo(mymap)
        .bindPopup('<strong>N5<br><i>Brin Attestamento</i></strong><br>Orario ...');
    L.marker([40.848854, 14.283216],{icon: fermataIcon}).addTo(mymap)
        .bindPopup('<strong>N5<br><i>Taddeo da Sessa</i></strong><br>Orario ...');



    //Percorso 1
    L.Routing.control({
        waypoints: [
            L.latLng(40.8553396,14.2830908),
            L.latLng(40.848854, 14.283216)
        ],
        createMarker: function() { return null},
        lineOptions: {
            styles: [
                {color: 'red', opacity: 0.7, weight: 5}
            ]}
    }).addTo(mymap).hide();

    //Percorso 2
    L.Routing.control({
        waypoints: [
            L.latLng(40.849001, 14.283039),
            L.latLng(40.851737, 14.271901),
            L.latLng(40.838780, 14.251921)
        ],
        createMarker: function() { return null; },
        lineOptions: {
            styles: [
                {color: 'red', opacity: 0.7, weight: 5}
            ]
        }
    }).addTo(mymap).hide();

    /** CENTRO DIREZIONALE to VILLA DORIA */

    //Fermate
    L.marker([40.852336, 14.268574], {icon: fermataIcon}).addTo(mymap)
        .bindPopup('<strong>N1<br><i>P.zza Garibaldi</i></strong><br>Orario ...');
    L.marker([40.829910, 14.220250],{icon: fermataIcon}).addTo(mymap)
        .bindPopup('<strong>N1<br><i>Bruno Sannazaro</i></strong><br>Orario ...');
    L.marker([40.828109, 14.219892], {icon: fermataIcon}).addTo(mymap)
        .bindPopup('<strong>C21<br><i>Mergellina Sannazaro</i></strong><br>Orario ...');
    L.marker([40.823922, 14.216277],{icon: fermataIcon}).addTo(mymap)
        .bindPopup('<strong>C21<br><i>Petrarca</i></strong><br>Orario ...');


    //Percorso 1
    L.Routing.control({
        waypoints: [
            L.latLng(40.852336, 14.268574),
            L.latLng(40.832029, 14.224641),
            L.latLng(40.829910, 14.220250)
        ],
        createMarker: function() { return null},
        lineOptions: {
            styles: [
                {color: 'blue', opacity: 0.9, weight: 3}
            ]}
    }).addTo(mymap).hide();

    //Percorso 2
    L.Routing.control({
        waypoints: [
            L.latLng(40.827933, 14.219657),
            L.latLng(40.823922, 14.216277)
        ],
        createMarker: function() { return null; },
        lineOptions: {
            styles: [
                {color: 'blue', opacity: 0.9, weight: 3}
            ]
        }
    }).addTo(mymap).hide();
    /** CENTRO DIREZIONALE to VIA PARISI */

    //Fermate
    L.marker([40.851775, 14.271998], {icon: fermataIcon}).addTo(mymap)
        .bindPopup('<strong>N3<br><i>Lucci - Garibaldi</i></strong><br>Orario ...');
    L.marker([40.837821, 14.249351],{icon: fermataIcon}).addTo(mymap)
        .bindPopup('<strong>N3<br><i>San Carlo - Trieste e Trento</i></strong><br>Orario ...');
    L.marker([40.837001, 14.248906], {icon: fermataIcon}).addTo(mymap)
        .bindPopup('<strong>E6<br><i>Trieste e Trento</i></strong><br>Orario ...');
    L.marker([40.833264, 14.245753],{icon: fermataIcon}).addTo(mymap)
        .bindPopup('<strong>E6<br><i>Monte Di Dio</i></strong><br>Orario ...');


    //Percorso 1
    L.Routing.control({
        waypoints: [
            L.latLng(40.851775, 14.271998),
            L.latLng(40.837821, 14.249351)
        ],
        createMarker: function() { return null},
        lineOptions: {
            styles: [
                {color: 'green', opacity: 1, weight: 2}
            ]}
    }).addTo(mymap).hide();

    //Percorso 2
    L.Routing.control({
        waypoints: [
            L.latLng(40.837001, 14.248906),
            L.latLng(40.833264, 14.245753)
        ],
        createMarker: function() { return null; },
        lineOptions: {
            styles: [
                {color: 1, opacity: 1, weight: 2}
            ]
        }
    }).addTo(mymap).hide();


    oWebViewInterface1.on('location', function (cor) {
        latitudine = cor.lat;
        longitudine = cor.lang;
        DynaMarker = L.marker([cor.lat,cor.lang]);
        DynaMarker.setLatLng([cor.lat, cor.lang]).addTo(mymap);
    });
</script>
-->
</body>
</html>
