<Page class="page"
      navigatingTo="onNavigatingTo"
      actionBarHidden="true"
      xmlns="http://schemas.nativescript.org/tns.xsd"
      xmlns:x="nativescript-statusbar"
      backgroundSpanUnderStatusBar="true"
      xmlns:lv="nativescript-ui-listview">

    <ActionBar >
        <ActionItem icon="res://menu"
                    ios:visibility="collapsed"
                    tap="onDrawerButtonTap"
                    android.position="right">
        </ActionItem>
        <ActionItem icon="res://navigation/menu"
                    android:visibility="collapsed"
                    tap="onDrawerButtonTap"
                    ios.position="right">
        </ActionItem>
    </ActionBar>
    <ios>
        <x:StatusBar ios:barStyle="light" barColor="rgba(0, 0, 0,0.0)"/>
    </ios>
    <android>
        <x:StatusBar ios:barStyle="light" barColor="rgb(30, 50, 88)"/>
    </android>

    <GridLayout>
        <GridLayout rows="*,auto">
            <!-- Top Title-->
            <GridLayout height="900">

                <Image src="~/images/background2.jpg"/>
                <StackLayout backgroundColor="rgba(0,0,0,0.7)"/>

            </GridLayout>
            <GridLayout rows="auto,*" row="0" width="100%">

                <GridLayout row="0" backgroundColor="#1E3258" width="100%" height="30%" verticalAlignment="top">
                    <Image src="~/images/home/toptitle_reversed.png" marginRight="5" height="50%" verticalAlignment="center" horizontalAlignment="right"/>
                </GridLayout>
                <GridLayout row="1" backgroundImage="~/images/background2.jpg">
                    <StackLayout backgroundColor="rgba(0,0,0,0.6)" width="100%" height="100%"/>

                    <!-- Notizie/Avvisi-->
                    <GridLayout backgroundColor="rgba(0,0,0,0.4)" margin = "0 10 0 10" height="70%" borderRadius="15%" >
                        <lv:RadListView items="{{ news }}" orientation="horizontal">
                            <lv:RadListView.itemTemplate>
                                <StackLayout orientation="vertical">
                                    <Label fontSize="20" text="{{ title }}"/>
                                    <Label fontSize="14" text="{{ body }}"/>
                                </StackLayout>
                            </lv:RadListView.itemTemplate>
                        </lv:RadListView>

                        <StackLayout id="activityNews" visibility="collapsed" verticalAlignment="center" height="100%" width="100%" backgroundColor="rgba(0,0,0,0.5)">
                            <Label text="Recupero Notizie..." horizontalAlignment="center" class="textPrimary"/>
                            <ActivityIndicator horizontalAlignment="center" color="white" busy="true"/>
                        </StackLayout>
                    </GridLayout>

                    <StackLayout id="bottom_bar" height="5" width="100%" verticalAlignment="top" backgroundColor="#2E7C9E"/>

                </GridLayout>
            </GridLayout>
            <!-- Dipartimenti-->
            <GridLayout marginTop="15%" verticalAlignment="top">
                <StackLayout orientation="horizontal" verticalAlignment="bottom" marginBottom="50" horizontalAlignment="center">
                    <Button class="roundedBtn_top" text="" marginRight="10" backgroundImage="~/images/icon_home/02_Giuris.png" ontap="ontap_fb"/>
                    <Button  class="roundedBtn_top" text="" marginRight="10" backgroundImage="~/images/icon_home/03_Inge.png" ontap="ontap_twi"/>
                    <Button  class="roundedBtn_top" text="" marginRight="10" backgroundImage="~/images/icon_home/01_Economia.png" ontap="ontap_insta"/>
                    <Button  class="roundedBtn_top" text="" marginRight="10" backgroundImage="~/images/icon_home/01_Economia.png" ontap="ontap_you"/>
                    <Button  class="roundedBtn_top" text="" marginRight="10" backgroundImage="~/images/icon_home/01_Economia.png" ontap="ontap_insta"/>
                    <Button  class="roundedBtn_top" text="" marginRight="10" backgroundImage="~/images/icon_home/04_Tecnologie.png" ontap="ontap_you"/>
                    <Button  class="roundedBtn_top" text="" backgroundImage="~/images/icon_home/05_Motorie.png" ontap="ontap_linkedin"/>

                </StackLayout>
            </GridLayout>


            <!--Immagine Bottom e Pulsanti-->
            <GridLayout row="1" height="40%" verticalAlignment="top" backgroundColor="#1E3258">
                <StackLayout height="100%" verticalAlignment="top">
                    <Image src="~/images/image_Acton.jpg" id="main_image" verticalAlignment="top"/>
                </StackLayout>

                <!--Tasti laterali SX-->
                <GridLayout rows="auto,auto,auto" verticalAlignment="top" horizontalAlignment="left" marginTop="25" marginLeft="10">
                    <StackLayout row="0" horizontalAlignment="right" marginBottom="15">
                        <Button class="circle" borderWidth="1" borderColor="white" backgroundColor="#22384f" tap="onTapNotizie" backgroundImage="~/images/icon/newspaper.png" height="40" width="40"/>
                    </StackLayout>
                    <StackLayout row="1" horizontalAlignment="left" marginBottom="15">
                        <Button class="circle" borderWidth="1" borderColor="white" backgroundColor="#22384f" tap="onTapAvvisi" backgroundImage="~/images/icon/loud-speaker.png" height="40" width="40"/>
                    </StackLayout>
                    <StackLayout row="2" horizontalAlignment="left" marginBottom="15">
                        <Button class="circle" borderWidth="1" borderColor="white" backgroundColor="#22384f" tap="onTapEventi" backgroundImage="~/images/icon/event.png" height="40" width="40"/>
                    </StackLayout>
                </GridLayout>

                <!--Tasti laterali DX-->
                <GridLayout rows="auto,auto,auto" verticalAlignment="top" horizontalAlignment="right" marginTop="25" marginRight="10">
                    <StackLayout row="0" horizontalAlignment="right" marginBottom="15">
                        <Button class="circle" borderWidth="1" borderColor="white" backgroundColor="#22384f" tap="onTapFood" backgroundImage="~/images/icon/food.png" height="40" width="40"/>
                    </StackLayout>
                    <StackLayout row="1" horizontalAlignment="left" marginBottom="15">
                        <Button class="circle" borderWidth="1" borderColor="white" backgroundColor="#22384f" tap="onTapMeteo" backgroundImage="~/images/icon/storm.png" height="40" width="40"/>
                    </StackLayout>
                    <StackLayout row="2" horizontalAlignment="left" marginBottom="15">
                        <Button class="circle" borderWidth="1" borderColor="white" backgroundColor="#22384f" tap="onTapTrasporti" backgroundImage="~/images/icon/front-bus.png" height="40" width="40"/>
                    </StackLayout>
                </GridLayout>
            </GridLayout>

            <!--Barra colorata 2-->
            <StackLayout row="1" id="bottom_bar2" verticalAlignment="top" height="5" width="100%" backgroundColor="#2E7C9E"/>

            <!--Social-->
            <GridLayout row="1" verticalAlignment="bottom">
                <StackLayout orientation="horizontal" verticalAlignment="bottom" marginBottom="50" horizontalAlignment="center">
                    <Button class="roundedBtn" text="" marginRight="10" backgroundImage="~/images/social/fb.png" ontap="ontap_fb"/>
                    <Button  class="roundedBtn" text="" marginRight="10" backgroundImage="~/images/social/twi.png" ontap="ontap_twi"/>
                    <Button  class="roundedBtn" text="" marginRight="10" backgroundImage="~/images/social/insta.png" ontap="ontap_insta"/>
                    <Button  class="roundedBtn" text="" marginRight="10" backgroundImage="~/images/social/you.png" ontap="ontap_you"/>
                    <Button  class="roundedBtn" text="" backgroundImage="~/images/social/linkedin.png" ontap="ontap_linkedin"/>

                </StackLayout>
            </GridLayout>

            <!--Versione-->
            <StackLayout row="1" orientation="vertical" verticalAlignment="bottom">
                <Label text="UniversitÃ¡ degli Studi di Napoli ''Parthenope''" horizontalAlignment="center" color="white"  marginBottom="5" fontSize="10"/>
                <Label id="version" horizontalAlignment="center" color="white" verticalAlignment="bottom" marginBottom="5" fontSize="10"/>
            </StackLayout>

            <!--Hamburger Menu-->
            <ios>
                <Button class="myMenu" backgroundImage="res://navigation/menu" backgroundColor="#000000ff" verticalAlignment="top" ontap="onDrawerButtonTap" horizontalAlignment="left" height="20" width="20" marginLeft="15" marginTop="15"/>
            </ios>
            <android>
                <Button class="myMenu" backgroundImage="res://menu" ontap="onDrawerButtonTap" verticalAlignment="top" horizontalAlignment="left" height="25" width="25" margin="20 5 10 5"/>
            </android>

        </GridLayout>

        <!--Loading Screen-->
        <StackLayout id="activityIndicator" visibility="collapsed" verticalAlignment="center" height="100%" width="100%" backgroundColor="rgba(0,0,0,0.5)">
            <Label text="Connessione..." horizontalAlignment="center" class="textPrimary"/>
            <ActivityIndicator horizontalAlignment="center" color="white" busy="true"/>
        </StackLayout>
    </GridLayout>
</Page>
